<app-edit-product-info (click)="editProdInfo()"></app-edit-product-info>
<div class="prod-info__backdrop show" [ngClass]="{'show': toggleBackdropVisibility}"></div>
<div class="row grp-results">
  <div class="col-md-8 col-sm-8 col-8" *ngFor="let category of searchResult; let i = index">
    <div>
      <div class="row" style="justify-content: center;">
        <div class="plan-wrapper" *ngFor="let plan of category.productList | planFilter:filterArgs : filteredCountSubject | orderBy:[sortProperty] as filteredResult; let j = index;">
          <img class="best-value-icon is-hidden" *ngIf="j == 0" src="./assets/images/best-value-icon.png" />
          <app-plan-widget [data]="plan" [type]="category.protectionType" [bestValue]="j == 0" [comparePlan]="isComparePlanEnabled"
            (select)="selectPlan($event)" (view)="viewDetails($event)" [planSelected]="selectedPlans" (compare)="comparePlan($event)"></app-plan-widget>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-4 col-sm-4 col-4 hidden-sm-md">
    <button ngbButtonLabel class="direct-form-btn--radio btn btn-small" (click)="toggleComparePlans()" style="float:left;" [ngClass]="{'compare' : isComparePlanEnabled}">Compare Plans</button>
    <label class="lbl">{{filteredResult.length}} Plans Found</label>
    <div style="clear: both; margin-bottom: 10px;"></div>
    <app-settings-widget *ngIf="sortList.length > 0" [filters]="filters" [sort]="sortList" (filterProducts)="filterProducts($event)"></app-settings-widget>
  </div>
</div>
<div [hidden]="filteredResult?.length > 0">{{ 'SETTINGS.NO_RESULTS' | translate}}</div>
<!-- Floating plan selection for compare plans footer -->
<div *ngIf="isComparePlanEnabled && (selectedPlans && selectedPlans.length > 1)" align="center" class="floating-footer-wrapper">
  <div class="floating-footer">
    <span class="selected-count">{{selectedPlans.length}}</span>
    <span class="lbl-selected">{{ 'COMMON.LBL_PLANS_SELECTED' | translate}}</span>
    <span class="btn-proceed" (click)="compare()">{{ 'BUTTON.COMPARE' | translate}}</span>
  </div>
</div>
<!-- / Floating plan selection for compare plans footer -->
