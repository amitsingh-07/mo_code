<!-- Copy toaster -->
<div class="toast-msg-fixed-block" *ngIf="showFixedToastMessage">
  <div class="toast-msg-container">
    <div class="flex-col-1">
      <img src="assets/images/topupwithdraw/check_orange.svg" alt="" />
    </div>
    <div class="flex-col-11">
      <div class="toast-msg">{{toastMsg?.desc}}</div>
    </div>
  </div>
</div>
<div class="container-fluid max-width--1024 comprehensive"
  *ngIf="((getComprehensiveSummary && getComprehensiveSummary.comprehensiveEnquiry !== null && getComprehensiveSummary.comprehensiveEnquiry.isCFPGetStarted) || isComprehensiveLiveEnabled) && isComprehensiveEnabled">
  <div class="comprehensive" [ngClass]="{'dashboard-lite': comprehensiveLiteEnabled }">
    <div class="widget">
      <div class="reward-points"
        [ngClass]="{'full-user': comprehensiveLiteEnabled, 'grey': !comprehensiveInfo[0].isEnabled}"
        *ngIf="getReferralInfo && getReferralInfo.isWelcomeRewardsValid && getReferralInfo.refereeExists && comprehensiveInfo">
        <span *ngIf="!comprehensiveInfo[0].isEnabled"><img
            src="assets/images/refer-friend/gift-icon-grey.svg"></span><span *ngIf="comprehensiveInfo[0].isEnabled"><img
            src="assets/images/refer-friend/gift-icon.svg"></span>${{comprehensiveInfo[0].creditValue}}</div>
      <div class="view-edit">
        <div class="form-group-with-bg--header-label plan-view-icon text-right comprehensive-plan-view"
          [hidden]="comprehensivePlanning !== 0" (click)="goToEditComprehensivePlan(true)">
          {{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_VIEW' | translate }}</div>
        <div class="form-group-with-bg--header-label plan-view-icon text-right comprehensive-plan-view"
          [hidden]="!(comprehensivePlanning === 5 || comprehensivePlanning === 1 || comprehensivePlanning === 2)"
          (click)="goToEditComprehensivePlan(false)">
          <span class="edit-icon"><img src="assets/images/comprehensive/comprehesive-edit-icon.svg"></span></div>
      </div>
      <div class="form-group-with-bg overlay-bg">
        <div [ngClass]="{'hidden': !isLoadComplete}">
          <!--Form Header-->
          <div class="form-group-with-bg--header">
            <div class="flex space-btwn align-items-start">
              <div>
                <div class="form-group-with-bg--header-label pr10">
                  {{'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_LITE_TITLE' | translate}}
                </div>
              </div>
            </div>
          </div>
          <!--Form Content-->
          <div class="form-group-with-bg--content">
            <div class="flex-row align-start" *ngIf='!isCorporate'
              [hidden]="comprehensivePlanning === 5 || comprehensivePlanning === 3 || comprehensivePlanning === 4 || comprehensivePlanning === 0">
              <div class="flex-col-8">
                <div class="form-group-with-bg--content-label" for="name">
                  {{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_COMPLETED_DESC' | translate}}
                </div>
              </div>
              <div class="flex-col-4 text-right">
                <img src='assets/images/comprehensive/dashboard-comprehensive.svg'>
              </div>
            </div>
            <div class="flex-row align-start hidden-sm-md" [hidden]="comprehensivePlanning !== 0">
              <div class="flex-col-10">
                <div class="form-group-with-bg--content-label" for="name" *ngIf='!paymentInstructions'>
                  {{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_SUBMITTED' | translate}}
                </div>
                <div class="form-group-with-bg--content-label" for="name" *ngIf='paymentInstructions'
                  [innerHtml]=" (isAdvisorAppointment && comprehensivePlanning === 0) ? ('COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_REPORT_APPOINTMENT' | translate) : ('COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_SUBMITTED_PAYMENT' | translate)">
                </div>
              </div>
              <div class="flex-col-2 text-right">
                <img src='assets/images/comprehensive/dashboard-comprehensive.svg'>
              </div>
            </div>
            <div class="flex-row align-start hidden-lg" [hidden]="comprehensivePlanning !== 0">
              <div class="flex-col-8">
                <div class="form-group-with-bg--content-label" for="name" *ngIf='!paymentInstructions'>
                  {{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_SUBMITTED' | translate}}
                </div>
                <div class="form-group-with-bg--content-label" for="name" *ngIf='paymentInstructions'
                  [innerHtml]=" (isAdvisorAppointment && comprehensivePlanning === 0) ? ('COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_REPORT_APPOINTMENT' | translate) : ('COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_SUBMITTED_PAYMENT' | translate)">
                </div>
              </div>
              <div class="flex-col-4 text-right">
                <img src='assets/images/comprehensive/dashboard-comprehensive.svg'>
              </div>
            </div>
            <div class="flex-row align-start" [hidden]="comprehensivePlanning !== 3">
              <div class="flex-col-8">
                <div class="form-group-with-bg--content-label" for="name">
                  {{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_PENDING_DESC' | translate}}
                </div>
              </div>
              <div class="flex-col-4 text-right">
                <img src='assets/images/comprehensive/dashboard-comprehensive.svg'>
              </div>
            </div>
            <div class="flex-row align-start" [hidden]="comprehensivePlanning !== 2">
              <div class="flex-col-12">
                <div class="form-group-with-bg--content-label" for="name">
                  <u>{{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_NEXT_STEP' | translate}}</u>
                </div>
                <div class="form-group-with-bg--content-label" for="name">
                  {{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_NEXT_STEP_DESC' | translate}}
                </div>
              </div>
            </div>

            <div class="flex-row align-start"
              *ngIf="comprehensivePlanning === 5 || (isCorporate && comprehensivePlanning === 1)">
              <div class="flex-col-8">
                <div class="form-group-with-bg--content-label" for="name">
                  {{ (isCorporate && isReportGenerated) ? ('COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_REPORT_READY' | translate) : ('COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_MAKE_CHANGES_CONTENT' | translate)}}
                </div>
              </div>
              <div class="flex-col-4 text-right">
                <img src='assets/images/comprehensive/dashboard-comprehensive.svg'>
              </div>
            </div>
            <!-- LIMITED OFFER -->
            <div class="flex-row align-start"
              [ngClass]="{'limit-offer' : getComprehensiveSummaryDashboard && getComprehensiveSummaryDashboard.showPaymentDashBoard && !paymentWaived}"
              *ngIf="getComprehensiveSummaryDashboard && getComprehensiveSummaryDashboard.showPaymentDashBoard && !paymentWaived && getComprehensiveSummaryDashboard.paymentAmount && getComprehensiveSummaryDashboard.paymentAmount > 0">
              <div class="flex-col-12">
                <div class="limited_value"><img src='assets/images/comprehensive/limited-offer.svg'>
                  {{ getComprehensiveSummaryDashboard.paymentAmount | currency:'USD':'symbol-narrow':'1.0-2'}}{{ 'COMPREHENSIVE.DASHBOARD.INCL_GST' | translate}}
                </div>
              </div>
            </div>
            <div class="flex-row align-start" [hidden]="comprehensivePlanning !== 2">
              <div class="flex-col-12">
                <button type="button" class="btn btn-primary width100" id="prfBtn1">
                  <div class="ft-18" for="name">
                    {{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_ADVISOR' | translate}}
                  </div>
                </button>
              </div>
            </div>

            <div class="flex-row align-start" [hidden]="comprehensivePlanning !== 3">
              <div class="flex-col-12">
                <button type="button" class="btn btn-primary width100" id="prfBtn1" (click)="goToCurrentStep()">
                  <div class="ft-18" for="name">
                    {{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_CONTINUE' | translate}}
                    <div class="ft-13" for="name" [hidden]="this.currentStep > 5">
                      {{ ('COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_STEPS_PENDING' | translate).replace('CURRENT_STEP', currentStep)}}
                    </div>
                  </div>
                </button>
              </div>
            </div>

            <div class="flex-row align-start" [hidden]="comprehensivePlanning !== 4">
              <div class="flex-col-8">
                <div class="form-group-with-bg--content-label" for="name">
                  {{ 'COMPREHENSIVE.DASHBOARD.DEFAULT_CONTENT' | translate}}
                </div>
              </div>
              <div class="flex-col-4 text-right">
                <img src='assets/images/comprehensive/dashboard-comprehensive.svg'>
              </div>
            </div>
            <div class="flex-row align-start" [hidden]="comprehensivePlanning !== 4">
              <div class="flex-col-12">
                <button type="button" class="btn btn-primary width100" id="prfBtn1" (click)="goToEditProfile()">
                  <div class="ft-18" for="name">{{ 'COMPREHENSIVE.DASHBOARD.DEFAULT_START' | translate}}
                    <div class="ft-13" for="name">{{ 'COMPREHENSIVE.DASHBOARD.DEFAULT_ESTIMATED' | translate }}
                    </div>
                  </div>
                </button>
              </div>
            </div>

            <div class="comprehensive-btn-block">
              <div class="flex-row align-start" *ngIf="paymentInstructions"
                [ngClass]="{'width100': paymentInstructions && !isReportGenerated}">
                <div class="flex-col-12">
                  <button type="button" class="btn btn-primary width100" id="payment-instruction"
                    (click)="showPaymentModal()">
                    <div class="ft-18" for="name">
                      {{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PAYMENT_INSTRUCTION' | translate}}
                    </div>
                  </button>
                </div>
              </div>
              <div class="flex-row align-start" *ngIf="isReportGenerated" [ngClass]="{'width100': !paymentInstructions }"
                [hidden]="!(comprehensivePlanning === 1 || comprehensivePlanning === 2 || (isAdvisorAppointment && comprehensivePlanning === 0))">
                <div class="flex-col-12">
                  <button (click)="downloadComprehensiveReport()" type="button"
                    class="btn btn-view width100" [ngClass]="{'ml0': !paymentInstructions }" id="prfBtn1">
                    <div class="ft-18 " for="name">
                      <span class="download-report">
                        {{ 'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_VIEW_REPORT' | translate}}</span>
                      <div class="label-grey ft-13 last-update" for="name">
                        {{ ('COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_PLANNING_LAST_UPDATED' | translate).replace('LAST_UPDATED_DATE', submittedDate | date: 'dd MMM yyyy')}}
                      </div>
                    </div>
                  </button>

                </div>
              </div>
            </div>
            <div class="report-error-msg flex" *ngIf="!isReportGenerated && reportStatusTypes.ERROR === reportStatus">
              <span class="mr10"><img src="assets/images/comprehensive/error-icon/exclamation_alert_icon.svg" width="22"
                  height="19" /></span><span>{{'COMPREHENSIVE.DASHBOARD.COMPREHENSIVE_REPORT_ERROR_MSG'| translate}}
              </span></div>
            <div class="adviser-btn" *ngIf='isSpeakToAdvisor && isReportGenerated'><span
                (click)="speakToAdviserModal()">{{ 'COMPREHENSIVE.DASHBOARD.SPEAK_TO_ADVISER' | translate}}</span></div>
            <div class="appointment-btn" *ngIf='isAdvisorAppointment && comprehensivePlanning === 0'><span class="icon"
                (click)="adviserAppointmentModal()"><img src="assets/images/calender-orange.svg" /></span><span
                class="pl10"
                (click)="adviserAppointmentModal()">{{ 'COMPREHENSIVE.DASHBOARD.APPOINTMENT' | translate}}</span></div>
          </div>
        </div>
        <div [ngClass]="{'hidden': isLoadComplete}" class="ajax-loader-card-inline">
          <img alt="loader" src="assets/styles/ajax-loader.gif" />
        </div>
      </div>
    </div>
  </div>
</div>