<div class="comprehensive hidden-sm-md">
  <!--Step indicator-->
  <div class="step-indicator-wrapper">
    <div class="step-indicator-container" id="moDpdnt2StepIndctr">
      <app-step-indicator [count]="6" [activeStepIndex]="4" [mode]="1"></app-step-indicator>
    </div>
  </div>
  <!--Step indicator /-->
</div>
<!--Container fluid-->
<div class="container-fluid max-width--1024 comprehensive">
  <!--Step indicator-->
  <div class="step-indicator-container hidden-lg" id="moDpdnt2StepIndctr">
    <app-step-indicator [count]="6" [activeStepIndex]="4" [mode]="1"></app-step-indicator>
  </div>
  <!--Step indicator /-->
  <div class="comprehensive__page-sub-heading mt30">{{'CMP.MY_ASSETS.TITLE'|translate}}</div>
  <div class="comprehensive__page-content">{{'CMP.MY_ASSETS.HEADER'|translate}}</div>
  <!--Income bucket-->
  <div class='income-bucket-panel'>

    <div class="income-bucket-panel__img finance-assets"><img src="./assets/images/comprehensive/finance-assets.svg" />
    </div>
    <div class="income-bucket-panel__content" style="margin-top:5%;">{{'CMP.MY_ASSETS.ASSETS_BUCKETS'|translate}}</div>
    <div class="income-bucket-panel__desc"><span class='income-bucket-panel__value'>{{ totalAssets |
        currency:'USD':'symbol-narrow':'1.0-2' }} </span>{{'CMP.MY_ASSETS.TOTAL'|translate}} </div>
  </div>
  <!--Income bucket /-->
  <!--Page form-->
  <form [formGroup]="myAssetsForm" id="myAssetsForm" name="myAssetsForm" class="myAssetsForm form-group">
    <div class="form-group-with-bg">
      <!--Form Header-->
      <div class="form-group-with-bg--header">
        <div class="flex-row ">
          <div class="flex-col-12 with-help-icon">
            <div class="form-group-with-bg--header-label">{{ 'CMP.MY_ASSETS.CASH' | translate}}<div
                class="form-group-with-bg--header-sub-label"></div>
            </div>
            <span class="help-icon" (click)="showToolTipModal('CASH_TITLE','CASH_MESSAGE')"></span>
          </div>
        </div>
      </div>
      <!--Form Content-->
      <div class="form-group-with-bg--content">
        <div class="flex-row">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{'CMP.MY_ASSETS.CASH_IN_BANK'|translate}}<div
                class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode}">
              <i>$</i>
              <input type="text" maxLength="7" class="input-control" appCurrencyInput #cashInBank
                formControlName="cashInBank">
            </div>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{ 'CMP.MY_ASSETS.SINGAPORE_SAVING_BONDS' |
              translate}}<div class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode}">
              <i>$</i>
              <input type="text" maxLength="7" class="input-control" appCurrencyInput #savingsBonds
                formControlName="savingsBonds">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group-with-bg">
      <!--Form Header-->
      <div class="form-group-with-bg--header">
        <div class="flex-row ">
          <div class="flex-col-12 with-help-icon">
            <div class="form-group-with-bg--header-label">{{ 'CMP.MY_ASSETS.YOUR_CPF' | translate}}<div
                class="form-group-with-bg--header-sub-label"></div>
            </div>
            <span (click)="editCPFFields()" *ngIf="showEditIcon" class="edit-icon"><img src="assets/images/comprehensive/edit-icon-pencil.svg" /></span>
          </div>
        </div>
      </div>
      <!--Form Content-->
      <div class="form-group-with-bg--content">
        <div class="flex-row">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{'CMP.MY_ASSETS.CPF_OA'|translate}}<div
                class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode, 'readonly-disabled': cpfFromMyInfo}">
              <i>$</i>
              <input type="text" class="input-control" [readonly]="cpfFromMyInfo"
                [ngClass]="{'readonly-disabled': cpfFromMyInfo}" appCurrencyInput maxLength="7" #cpfOrdinaryAccount
                formControlName="cpfOrdinaryAccount" value="0">
            </div>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{ 'CMP.MY_ASSETS.CPF_SA' | translate}}<div
                class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode, 'readonly-disabled': cpfFromMyInfo}">
              <i>$</i>
              <input type="text" class="input-control" [readonly]="cpfFromMyInfo"
                [ngClass]="{'readonly-disabled': cpfFromMyInfo}" appCurrencyInput maxLength="7" #cpfSpecialAccount
                formControlName="cpfSpecialAccount" value="0">
            </div>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{ 'CMP.MY_ASSETS.CPF_MA' | translate}}<div
                class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode, 'readonly-disabled': cpfFromMyInfo}">
              <i>$</i>
              <input type="text" class="input-control" [readonly]="cpfFromMyInfo"
                [ngClass]="{'readonly-disabled': cpfFromMyInfo}" appCurrencyInput maxLength="7" #cpfMediSaveAccount
                formControlName="cpfMediSaveAccount" value="0">
            </div>
          </div>
        </div>
        <div class="flex-row" *ngIf="showRetirementAccount">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{ 'CMP.MY_ASSETS.CPF_RA' | translate}}<div
                class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode, 'readonly-disabled': cpfFromMyInfo}">
              <i>$</i>
              <input type="text" class="input-control" [readonly]="cpfFromMyInfo"
                [ngClass]="{'readonly-disabled': cpfFromMyInfo}" appCurrencyInput maxLength="7" #cpfRetirementAccount
                formControlName="cpfRetirementAccount" value="0">
            </div>
          </div>
        </div>
        <div *ngIf="!viewMode" (click)="openModal()" class="auto-fill-cpf" appComprehensiveViewMode="{{viewMode}}"
          mode=1>
          {{'CMP.MY_ASSETS.AUTO_FILL'| translate}}
          <img class="auto-fill-logo" src="assets/images/comprehensive/myinfo-logo.svg">
        </div>


        <div class="flex-row  mt-3" *ngIf="showRetirementAccount">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{ 'CMP.MY_ASSETS.SCHEME' | translate}}<div
                class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="dropdown-control">
              <div ngbDropdown id="schemeTypeDropDown">
                <button type="button" class="btn btn-dropdown" id="schemeTypeDropDown" ngbDropdownToggle
                  appComprehensiveViewMode="{{viewMode}}" mode=1>
                  <span *ngIf="!schemeType || schemeType === ''">{{'COMMON.LBL_SELECT' | translate}}</span>
                  <span *ngIf="schemeType !== ''">{{schemeType}}</span>
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownSchemeType">

                  <button type="button" class="dropdown-item earnings-dropdown" appComprehensiveViewMode="{{viewMode}}"
                    mode=1 *ngFor="let schemeType of schemeTypeList; let i=index"
                    (click)="selectSchemeType(schemeType)">
                    {{schemeType.text}}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>


        <div class="flex-row" *ngIf="showRetirementAccount">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{ 'CMP.MY_ASSETS.ESTIMATED_PAYOUT' | translate}}
              <div class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control form-control-right" [ngClass]="{'view-mode': viewMode}">
              <i>$</i>
              <input type="text" class="input-control" appCurrencyInput #estimatedPayout maxLength="5"
                formControlName="estimatedPayout">
              <i class="right">/ {{'CMP.MY_ASSETS.MONTH'|translate}}</i>
            </div>
          </div>
        </div>


        <div class="flex-row" *ngIf="showRetirementAccount">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label retirement-sum" for="name">{{'CMP.MY_ASSETS.SET_RETIREMENT_SUM'| translate}}
              <span class="help-icon"
                (click)="showToolTipModal('SET_RETIREMENT_SUM_TITLE','SET_RETIREMENT_SUM_MESSAGE')"></span>
            </div>

          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode}">
              <i>$</i>
              <input type="text" class="input-control" appCurrencyInput #retirementSum maxLength="6"
                formControlName="retirementSum">
            </div>
          </div>
        </div>

        <div class="flex-row" *ngIf="showRetirementAccount">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{ 'CMP.MY_ASSETS.TOPUP_AMOUNT' | translate}}
              <div class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode}">
              <i>$</i>
              <input type="text" class="input-control" appCurrencyInput #topupAmount maxLength="5"
                formControlName="topupAmount">
            </div>
          </div>
        </div>

        <div class="flex-row" *ngIf="showRetirementAccount">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name"
              [innerHTML]="'CMP.MY_ASSETS.WITHDRAWAL_AMOUNT' | translate">
              <div class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode}">
              <i>$</i>
              <input type="text" class="input-control" appCurrencyInput #withdrawalAmount maxLength="5"
                formControlName="withdrawalAmount">
            </div>
          </div>
        </div>


      </div>
    </div>
    <div class="form-group-with-bg" *ngIf="comprehensiveJourneyMode">
      <!--Form Header-->
      <div class="form-group-with-bg--header">
        <div class="flex-row ">
          <div class="flex-col-12 with-help-icon">
            <div class="form-group-with-bg--header-label">{{'CMP.MY_ASSETS.YOUR_HOME' | translate}}<div
                class="form-group-with-bg--header-sub-label">{{
                'CMP.MY_ASSETS.MARKET_VALUE' | translate}}</div>
            </div>
            <span class="help-icon" (click)="showToolTipModal('YOUR_HOME_TITLE','YOUR_HOME_MESSAGE')"></span>
          </div>
        </div>
      </div>
      <!--Form Content-->
      <div class="form-group-with-bg--content">
        <div class="flex-row">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{'CMP.FORM_LABEL.AMOUNT'|translate}}<div
                class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode}">
              <i>$</i>
              <input type="text" class="input-control" appCurrencyInput #homeMarketValue maxLength="7"
                formControlName="homeMarketValue">
            </div>
          </div>
        </div>
        <div class="flex-row investmentProperties add-invest mb0" [hidden]="!myInvestmentProperties" *ngIf="!viewMode">
          <div class="flex-col-12 mt15 mb0">
            <div class="with-help-icon" for="name"><span class="add-invest-link" (click)="addOtherInvestment()">{{
                'CMP.MY_ASSETS.ADD_INVESTMENT_PROPERTIES' | translate}}</span>
              <span class="help-icon"
                (click)="showToolTipModal('INVESTMENT_PROPERTIES_TITLE','INVESTMENT_PROPERTIES_MESSAGE')"></span>
            </div>
          </div>
        </div>

        <div class='investmentProperties' [hidden]="myInvestmentProperties">

          <div class="flex-row mt20">
            <div class="flex-col-12 with-help-icon" [ngClass]="{'both-icon': !viewMode}">
              <div class="form-group-with-bg--content-label" for="name">{{
                'CMP.MY_ASSETS.INVESTMENT_PROPERTIES' | translate}}<div class="form-group-with-bg--content-sub-label">{{
                  'CMP.MY_ASSETS.MARKET_VALUE' | translate}}</div>
              </div>
              <div> <span class="help-icon"
                  (click)="showToolTipModal('INVESTMENT_PROPERTIES_TITLE','INVESTMENT_PROPERTIES_MESSAGE')"></span>
                <span *ngIf="!viewMode" class="delete-icon" (click)="addOtherInvestment()"> </span></div>
            </div>
          </div>

          <div class="flex-row">
            <div class="flex-col-5">
              <div class="form-group-with-bg--content-label" for="name">{{ 'CMP.FORM_LABEL.AMOUNT' | translate}}<div
                  class="form-group-with-bg--content-sub-label"></div>
              </div>
            </div>
            <div class="flex-col-7">
              <div class="form-control"
                [ngClass]="{'view-mode': viewMode, 'inline-error': submitted && addAssetsValid.investmentPropertiesValue.invalid}">
                <i>$</i>
                <input type="text" class="input-control" appCurrencyInput maxLength="8" #investmentPropertiesValue
                  formControlName="investmentPropertiesValue" value="0">
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <div class="form-group-with-bg">
      <!--Form Header-->
      <div class="form-group-with-bg--header">
        <div class="flex-row ">
          <div class="flex-col-12 with-help-icon">
            <div class="form-group-with-bg--header-label">{{'CMP.MY_ASSETS.INVESTMENTS'|translate}}<div
                class="form-group-with-bg--header-sub-label">{{
              'CMP.MY_ASSETS.MARKET_VALUE' | translate}}</div>
            </div>
            <span class="help-icon" (click)="showToolTipModal('INVESTMENT_TITLE','INVESTMENT_MESSAGE')"></span>

          </div>
        </div>
      </div>
      <!--Form Content-->
      <div class="form-group-with-bg--content">
        <div formArrayName="assetsInvestmentSet" class="{{ (i>0)?'investmentProperties':'' }} mt-2 otherInvestment "
          *ngFor="let otherInvestment of myAssetsForm['controls'].assetsInvestmentSet['controls']; let i = index;">
          <div class="flex-row mt15" *ngIf="i>0" [ngClass]="{'both-icon': !viewMode}">
            <div class="flex-col-12 with-help-icon ">
              <div class="flex-col-12 form-group-with-bg--content-label" for="name">{{
                'CMP.MY_ASSETS.OTHER_INVESTMENT' | translate}} {{i}}<div class="form-group-with-bg--content-sub-label">{{
                  'CMP.MY_ASSETS.MARKET_VALUE' | translate}}</div>

                <span *ngIf="!viewMode" class="delete-icon" (click)="removeInvestment(i)"> </span>
              </div>
            </div>
          </div>
          <div class="form-group" [formGroupName]="i">
            <div class="flex-row">
              <div class="flex-col-5">
                <div class="form-group-with-bg--content-label" for="name">{{'CMP.MY_ASSETS.INVESTMENT_TYPE'|translate}}
                  <div class="form-group-with-bg--content-sub-label"></div>
                </div>
              </div>
              <div class="flex-col-7">
                <div class="dropdown-control"
                  [ngClass]="{'inline-error': submitted && otherInvestment['controls'].typeOfInvestment.invalid}">
                  <div ngbDropdown id="investTypeDropDown">
                    <button type="button" class="btn btn-dropdown" id="dropdownsInvestType" ngbDropdownToggle
                      appComprehensiveViewMode="{{viewMode}}" mode=1>
                      <span *ngIf="!investType[i] || investType[i] === ''">{{'COMMON.LBL_SELECT' | translate}}</span>
                      <span *ngIf=" investType[i] !==''">{{investType[i]}}</span>
                    </button>
                    <div ngbDropdownMenu aria-labelledby="dropdownsInvestType">
                      <button class="dropdown-item" (click)="selectInvestType('',i)">Select</button>
                      <button type="button" class="dropdown-item" *ngFor="let investType of investmentTypeList;"
                        (click)="selectInvestType(investType, i)">
                        {{investType.text}}
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex-row" *ngIf="comprehensiveJourneyMode">
              <div class="flex-col-5">
                <div class="form-group-with-bg--content-label" for="name">{{'CMP.MY_ASSETS.FUND_TYPE'|translate}}
                  <div class="form-group-with-bg--content-sub-label"></div>
                </div>
              </div>
              <div class="flex-col-7">
                <div class="dropdown-control"
                  [ngClass]="{'inline-error': submitted && otherInvestment['controls'].fundType.invalid}">
                  <div ngbDropdown id="fundTypeDropDown">
                    <button type="button" class="btn btn-dropdown" id="dropdownsfundType" ngbDropdownToggle
                      appComprehensiveViewMode="{{viewMode}}" mode=1>
                      <span *ngIf="!fundType[i] || fundType[i] === ''">{{'COMMON.LBL_SELECT' | translate}}</span>
                      <span *ngIf=" fundType[i] !==''">{{fundType[i]}}</span>
                    </button>
                    <div ngbDropdownMenu aria-labelledby="dropdownsFundType">
                      <button class="dropdown-item" (click)="selectFundType('',i)">Select</button>
                      <button type="button" class="dropdown-item" *ngFor="let fundType of fundTypeList;"
                        (click)="selectFundType(fundType, i)">
                        {{fundType.text}}
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex-row">
              <div class="flex-col-5">
                <div class="form-group-with-bg--content-label" for="name">{{ ('CMP.FORM_LABEL.AMOUNT' | translate)}}<div
                    class="form-group-with-bg--content-sub-label"></div>
                </div>
              </div>
              <div class="flex-col-7">
                <div class="form-control"
                  [ngClass]="{'view-mode': viewMode, 'inline-error': submitted && otherInvestment['controls'].investmentAmount.invalid}">
                  <i>$</i>
                  <input type="text" class="input-control" appCurrencyInput maxLength="8" #investmentAmount
                    formControlName="investmentAmount" value="0">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="flex-row investmentProperties add-invest mb0" *ngIf="!viewMode">
          <div class="flex-col-12 mt15 mb0">
            <div class="with-help-icon" for="name"><span class="add-invest-link" (click)="addInvestment()">{{
                'CMP.MY_ASSETS.ADD_INVESTMENT' | translate}}</span>

            </div>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="comprehensiveJourneyMode" class="form-group-with-bg">
      <!--Form Header-->
      <div class="form-group-with-bg--header">
        <div class="flex-row ">
          <div class="flex-col-12 with-help-icon">
            <div class="form-group-with-bg--header-label">{{ 'CMP.MY_ASSETS.OTHER_ASSETS' | translate}}<div
                class="form-group-with-bg--header-sub-label">{{'CMP.MY_ASSETS.OTHER_ASSETS_HINT'
                | translate}}</div>
            </div>

          </div>
        </div>
      </div>
      <!--Form Content-->
      <div class="form-group-with-bg--content">
        <div class="flex-row">
          <div class="flex-col-5">
            <div class="form-group-with-bg--content-label" for="name">{{'CMP.FORM_LABEL.AMOUNT'|translate}}<div
                class="form-group-with-bg--content-sub-label"></div>
            </div>
          </div>
          <div class="flex-col-7">
            <div class="form-control" [ngClass]="{'view-mode': viewMode}">
              <i>$</i>
              <input type="text" class="input-control" appCurrencyInput maxLength="7" #otherAssetsValue
                formControlName="otherAssetsValue" value="0">
            </div>
          </div>
        </div>

      </div>
    </div>

    <div class='mb-10'>
      <div class="flex-row mb-3 mt-3 ">
        <div class="flex-col-12">
          <button type="button" (click)="goToNext(myAssetsForm)" class="btn btn-primary width100 mt30 mb10"
            id="prfBtn1">{{
              (!viewMode) ? ('CMP.FORM_LABEL.SAVE_AND_CONTINUE'|translate) : ('CMP.FORM_LABEL.NEXT'|translate)}}</button>
        </div>
      </div>
    </div>
  </form>
  <!--Page form /-->
  <div class="flex-row footer-notes btn__footer--fixed width100" id="prfBtn1">
    <div class="flex-col-7 text-left bucket-notes">{{ 'CMP.MY_ASSETS.ASSETS_BUCKETS_NOTE'|translate}}</div>
    <div class="flex-col-5 text-right bucket-notes-dollar"> {{totalAssets | currency:'USD':'symbol-narrow':'1.0-2'}}
    </div>
  </div>
</div>
<!--Container fluid /-->